# Телеграм Бот Для отслеживания рейсов

## Бизнес анализ

### 1. Анализ отраслевых трендов

На этом этапе анализируются актуальные тренды в сфере онлайн-бронирования авиабилетов. Рынок авиаперевозок и онлайн-сервисов для их бронирования меняется, и продукт должен адаптироваться к этим изменениям.

**Текущие тренды:**
* **Рост онлайн-платформ**</br>
  Все больше людей используют онлайн-сервисы для бронирования авиабилетов. Это обусловлено удобством поиска, бронирования и покупки авиабилетов.

* **Персонализация**</br>
  Современные пользователи ожидают персонализированного подхода. Сервисы, которые предлагают персонализированные рекомендации на основе прошлых покупок, предпочтений или даже прогноза изменения цен, имеют больше шансов привлечь внимание.

* **Интеграция дополнительных услу**</br>
  Успешные сервисы бронирования не ограничиваются только продажей авиабилетов. Они предлагают комплексные решения: бронирование отелей, аренду автомобилей, экскурсии и страховки. Это увеличивает удобство для пользователей и помогает сервисам получать дополнительные доходы.

* **Гибкость и страховка**</br>
  Пользователи все больше интересуются гибкими условиями бронирования. Возврат билетов, изменение маршрутов и страховка от отмены рейса становятся важными факторами, влияющими на выбор сервиса.

* **Эко-тренды**</br>
  Многие пользователи, особенно из Европы и Северной Америки, интересуются экологически чистыми вариантами путешествий. Сервисы бронирования начали включать фильтры для выбора авиакомпаний с меньшим углеродным следом или учитывать этот аспект в рекомендациях.

### 2. Анализ конкурентов

Конкурентный анализ включает изучение ведущих игроков на рынке, их предложений, сильных и слабых сторон. Для проекта это критический момент, так как существует множество крупных и устоявшихся платформ.

**Основные конкуренты:**
* **Skyscanner**</br>
  Особенности: глобальный поисковик авиабилетов, отелей и проката авто. Предлагает пользовательский интерфейс с множеством фильтров, а также рассылки по снижению цен и возможность поиска по гибким датам.

* **Aviasales**</br>
  Особенности: один из самых популярных сервисов для поиска дешевых авиабилетов. Имеет хорошую интеграцию с различными авиакомпаниями и агентствами. Ориентирован на рынок СНГ, поддержка множества языков и удобная система уведомлений.

* **Google Flights**
  Особенности: сервис от Google, интегрированный с поисковой системой и другими сервисами Google. Плюсы — высокая скорость работы, возможность поиска самых дешевых билетов и гибкие фильтры по времени и авиакомпаниям.

* **Momondo**
  Особенности: удобный интерфейс и возможностью поиска не только авиабилетов, но и сопутствующих услуг. Отличается визуальными инструментами для анализа цен на разные даты.

**Анализ сильных и слабых сторон конкурентов:**
  * **Сильные стороны:**
    * Высокий уровень интеграции с авиакомпаниями и агентствами.
    * Большое количество фильтров для поиска.
    * Простой и интуитивно понятный интерфейс.
    * Персонализированные предложения.
  * **Слабые стороны:**
    * У многих сервисов нет хорошо развитой системы лояльности или бонусов для пользователей.
    * Некоторые сервисы плохо работают с отменами рейсов или изменениями билетов.
    * Не все конкуренты предлагают гибкость в выборе дополнительных услуг (багаж, страховка и т.д.).

### 3. Анализ целевой аудитории

Для успешного проекта важно понимать, кто будет вашими пользователями, их потребности, предпочтения и поведение. Это поможет адаптировать интерфейс и функционал под конкретные группы пользователей.

**Основные сегменты пользователей:**

  * **Часто летающие пассажиры (бизнесмены)**</br>
  **Потребности:** Быстрый и удобный процесс покупки, накопление бонусов, гибкость в изменении рейсов, программа лояльности, возможность бронировать дополнительные услуги (приоритетная посадка, багаж).</br>
  **Как привлечь:** Упрощение процесса бронирования, быстрые фильтры для поиска, партнерство с авиакомпаниями для предложений накопления миль.
  
  * **Туристы, ищущие дешевые билеты**</br>
  **Потребности:** Поиск самых низких цен, уведомления о скидках, возможность гибкого поиска по датам, выбор рейсов с пересадками для экономии.</br>
  **Как привлечь:** Оповещения о снижении цен, возможность видеть динамику изменения цен, предложения сопутствующих услуг (гостиницы, аренда авто) с акциями.

  * **Семьи или группы людей**</br>
  **Потребности:** Легкость бронирования для нескольких человек, возможность бронирования всех услуг в одном месте (билеты, отели, багаж, еда).</br>
  **Как привлечь:** Специальные предложения для групп, пакетные предложения с отелями и другими услугами.

  * **Люди, планирующие сложные маршруты**</br>
  **Потребности:** Поиск рейсов с пересадками, возможность изменения маршрутов, поиск через несколько точек.</br>
  **Как привлечь:** Гибкость в построении маршрутов, поддержка различных комбинаций рейсов, возможность подбирать наиболее короткие и наиболее дешевые маршруты 

## Диаграммы USE-CASE UML

![plot](./UML/use-case.png)


## Функции и оценки
* **Регистрация/Авторизация**</br>
**Описание:** Возможность регистрации нового пользователя, вход в систему</br>
**Оценка времени:** 2 дня

* **Поиск авиабилетов**</br>
**Описание:** Поиск в базе данных, фильтрация и сортировка</br>
**Оценка времени:** 4 дня

* **Просмотр деталей рейса**</br>
**Описание:** Отображение информации о рейсе (цена, время, авиакомпания)</br>
**Оценка времени:** 1 день

* **Управление бронированием**</br>
**Описание:** Процесс выбора и резервирования билета. Возможность изменения и отмены брони.</br>
**Оценка времени:** 2 дня

* **Добавление ролей**</br>
**Описание:** Добавление ролей пользователей</br>
**Оценка времени:** 2 дня

* **Добавление оплаты**</br>
**Описание:** Добавление ролей пользователей</br>
**Оценка времени:** 2 дня

## Документация декомпозиции требований
### Основной функционал бота

#### Регистрация пользователей
* **Описание**: При первом запуске бот должен:
  * Сохранить уникальный идентификатор пользователя (chat_id) в базе данных.
  * Отправить приветственное сообщение с описанием возможностей бота.
* **Входные данные**: Команда /start.
* **Выходные данные**: Подтверждение регистрации и главное меню.

#### Главное меню
* **Описание**: Вывод интерактивного меню с кнопками для управления функциями бота:
    * «Отслеживать рейс»
    * «Отслеживаемые рейсы»
    * «Остановить уведомления»
* **Входные данные**: Inline-кнопки или команды.
* **Выходные данные**: Навигация к выбранной функции.

#### Отслеживание рейсов
* **Описание**:
    * Пользователь вводит параметры рейса: город вылета, город прилета, дата (опционально: авиакомпания).
    * Данные сохраняются в базе для последующего мониторинга цен.
* **Входные данные**: Ввод текста или пошаговая форма.
* **Выходные данные**: Подтверждение успешного отслеживания рейса.


####  Уведомления о снижении цен
* **Описание**:
  * Бот периодически проверяет стоимость отслеживаемых рейсов через API (Aviasales API).
  * Пользователь получает уведомление, если цена снижается ниже заданного порога.
* **Входные данные**: Автоматический процесс (пользовательские действия не требуются).
* **Выходные данные**: Уведомление о снижении цен.

#### Просмотр отслеживаемых рейсов
* **Описание**:
  * Отображение всех отслеживаемых рейсов с указанием маршрута, текущей цены и даты.
  * Возможность удалить ненужные рейсы.
* **Входные данные**: Команда или кнопка меню.
* **Выходные данные**: Список отслеживаемых полетов.

#### Остановка уведомлений
* **Описание**
  * Пользователь может отключить уведомления по конкретным рейсам или по всем трекерам.
* **Входные данные**: Команда или кнопка.
* **Выходные данные**: Подтверждение отключения уведомлений.

# Git WorkFlow
## Основные ветки
* `main`: стабильный код, готовый для продакшена.
* `develop`: интеграция всех новых функций, основная ветка разработки.
## Временные ветки
* Feature (`feature/*`): для разработки новых функций.
* Release (`release/*`): для подготовки релиза.
* Hotfix (`hotfix/*`): для срочного исправления багов в продакшене.


## Основные команды

### Создание веток:
```bash
    git flow feature start <название>
    git flow release start <версия>
    git flow hotfix start <название>
```

### Завершение веток:
```bash
    git flow feature finish <название>
    git flow release finish <версия>
    git flow hotfix finish <название>
```

### Синхронизация:
```bash
    git push origin main
    git pull origin main
    git push origin develop
    git pull origin develop
    git push origin --tags
```

## Формат коммитов
### Шаблон:
`<тип>: <краткое описание>`
### Типы: 
* `feat`: Новая функциональность.
* `fix`: Исправление бага.
* `docs`: Обновление документации.
* `chore`: Технические изменения (зависимости, конфигурации).
* `test`: Добавление или изменение тестов.
* `refactor`: Рефакторинг.


# Стэк технологий
## Backend
* **Язык программирования**: Go (Golang)
* Библиотеки:
  * tgbotapi: Для взаимодействия с Telegram API.
  * sqlx: Упрощает работу с базой данных.
## База данных
**PostgreSQL**: Хранение данных о пользователях, предпочтениях и истории изменения цен.
## API для данных о полетах
**AviasalesAPI**: для получения информации о рейсах и ценах.
## Хостинг 
* **AWS**: EC2 для бэкенда, RDS для базы данных.
* **Docker/Docker Compose**: Для удобного развёртывания приложения.
## Управление версиями
**Git** + **Git Flow**: Структурированная работа с ветками для командной разработки.



